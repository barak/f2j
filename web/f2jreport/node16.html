<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML 2.0//EN">
<!--Converted with LaTeX2HTML 96.1 (Feb 5, 1996) by Nikos Drakos (nikos@cbl.leeds.ac.uk), CBLU, University of Leeds -->
<HTML>
<HEAD>
<TITLE>COMMON Blocks</TITLE>
<META NAME="description" CONTENT="COMMON Blocks">
<META NAME="keywords" CONTENT="f2jreport">
<META NAME="resource-type" CONTENT="document">
<META NAME="distribution" CONTENT="global">
<LINK REL=STYLESHEET HREF="f2jreport.css">
</HEAD>
<BODY LANG="EN">
 <A NAME="tex2html253" HREF="node17.html"><IMG WIDTH=37 HEIGHT=24 ALIGN=BOTTOM ALT="next" SRC="http://www.cs.utk.edu/~icl/WebSite/icons/next_motif.gif"></A> <A NAME="tex2html251" HREF="node3.html"><IMG WIDTH=26 HEIGHT=24 ALIGN=BOTTOM ALT="up" SRC="http://www.cs.utk.edu/~icl/WebSite/icons/up_motif.gif"></A> <A NAME="tex2html245" HREF="node15.html"><IMG WIDTH=63 HEIGHT=24 ALIGN=BOTTOM ALT="previous" SRC="http://www.cs.utk.edu/~icl/WebSite/icons/previous_motif.gif"></A>   <BR>
<B> Next:</B> <A NAME="tex2html254" HREF="node17.html">Reserved words in Java</A>
<B>Up:</B> <A NAME="tex2html252" HREF="node3.html">Translating LAPACK FORTRAN to </A>
<B> Previous:</B> <A NAME="tex2html246" HREF="node15.html">Input/Output</A>
<BR> <P>
<H3><A NAME="SECTION000211300000000000000">COMMON Blocks</A></H3>
<P>
As with Input/Output, our primary motivation for implementing COMMON blocks is to
get the test routines translated.  The BLAS and LAPACK source files do not use
COMMON blocks, but they occur quite frequently in the test
routines.  Since our goal is to produce a reliable,
thoroughly tested Java
implementation of the BLAS and LAPACK libraries,
it is very important to get the test routines running.
Thus, f2j must provide some
basic level of translation for COMMON statements.
<P>
The following segment of code from dblat1.f, the level 1 BLAS
tester, illustrates a typical use of the COMMON statement:
<PRE>      INTEGER          ICASE, INCX, INCY, MODE, N
      LOGICAL          PASS
      COMMON           /COMBLA/ICASE, N, INCX, INCY, MODE, PASS</PRE>
Each COMMON block in the F<font size=-1><small>ORTRAN</small></font> source is translated to
a separate Java class:
<PRE>public class dblat1_combla
{
  static int icase = 0;
  static int n = 0;
  static int incx = 0;
  static int incy = 0;
  static int mode = 0;
  static boolean pass = false;
}</PRE>
<P>
Multiple COMMON blocks are supported and variables need not have
the same names in each common block declaration.  However, if the
variables names do differ, f2j attempts to merge the names into
one.  Thus, if one common block has many different declarations,
the merged names could become large.  This is generally not a 
problem with the BLAS and LAPACK testers, but could become cumbersome
with other code.  Eventually, we may change to a different scheme,
in which we choose one set of variable names to use consistently for
every common block declaration.
<P>
<BR> <HR>
<P><ADDRESS>
<I>Keith Seymour <BR>
Wed Jun 10 19:38:14 EDT 1998</I>
</ADDRESS>
</BODY>
</HTML>
